<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Alice's Wizard School Dashboard</title>
  <link rel="stylesheet" href="style/main.css">
  <style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      background: url('assets/images/parchment.jpg') repeat center center fixed;
      background-size: cover;
      display: grid;
      grid-template-columns: 240px 1fr;
      height: 100vh;
      color: #3b2f1c;
    }

    aside {
      background-color: rgba(255, 255, 255, 0.92);
      border-right: 4px double #d4af37;
      padding: 2rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.2rem;
    }

    aside h1 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
      text-align: center;
      color: #5b3b0c;
    }

    aside nav a {
      display: block;
      margin: 0.4rem 0;
      padding: 0.6rem 1.2rem;
      background-color: #a77b48;
      color: #fff8e1;
      border-radius: 8px;
      text-decoration: none;
      text-align: center;
      width: 100%;
      font-weight: bold;
      transition: all 0.2s;
    }

    aside nav a:hover {
      background-color: #b78c5a;
    }

    main {
      padding: 2rem;
      display: grid;
      grid-template-areas:
        "welcome calendar"
        "progress calendar"
        "wish todo";
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    .module {
      background: rgba(255, 255, 255, 0.93);
      border-radius: 1.5rem;
      padding: 1.8rem;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      border: 3px solid #e6d8aa;
    }

    .module h2 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: #5a3e1a;
    }

    #welcomeBox { grid-area: welcome; }
    #calendarBox { grid-area: calendar; }
    #progressBox { grid-area: progress; }
    #wishBox { grid-area: wish; }
    #todoBox { grid-area: todo; }

    .progress-bar {
      background-color: #ddd6ba;
      border-radius: 10px;
      overflow: hidden;
      height: 18px;
      margin: 10px 0;
    }

    .progress {
      height: 100%;
      background: linear-gradient(to right, #fceabb, #f8b500);
      width: 0%;
      transition: width 1s ease-in-out;
    }

    textarea {
      width: 100%;
      padding: 1rem;
      border-radius: 12px;
      border: 1px solid #bfa;
      font-size: 1rem;
      font-family: Georgia, serif;
      color: #3b2f1c;
    }

    button.calendar-nav {
      border-radius: 50%;
      background-color: #b39ddb;
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      font-size: 1rem;
      font-weight: bold;
      transition: background-color 0.3s, box-shadow 0.3s;
    }
    button.calendar-nav:hover {
      background-color: #9575cd;
      box-shadow: 0 0 10px #d1c4e980;
    }

    #calendar div {
      padding: 0.6rem;
      border-radius: 50%;
      border: 1px solid #e0c187;
      background-color: #fffef7;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      transition: all 0.25s ease-in-out;
    }

    #calendar div:hover {
      transform: scale(1.15);
      box-shadow: 0 0 10px rgba(163, 119, 255, 0.4);
    }

    #calendar .today {
      background: radial-gradient(circle, #fff3b0 0%, #fdd835 90%);
      border: 2px solid #ff9800;
      box-shadow: 0 0 10px #ffeb3b80;
      font-weight: bold;
      color: #5e4205;
    }

    #calendar .done {
      background: linear-gradient(to bottom right, #a5d6a7, #81c784);
      border: 2px solid #388e3c;
      color: white;
      font-weight: bold;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>
<body>
  <aside>
    <h1>üßΩ Wizard Navigation</h1>
    <nav>
      <a href="dashboard.html">Dashboard</a>
      <a href="badge.html">Badge Room</a>
      <a href="todo.html">To Do List</a>
      <a href="wish.html">Wish & Mood</a>
      <a href="destiny.html">Destiny Room</a>
      <a href="admin.html">Boom Boom‚Äôs Console</a>
    </nav>
  </aside>

  <main>
    <section class="module" id="welcomeBox">
      <h2>üéì Welcome, fluffy little Pufflet!</h2>
      <p>Today is <span id="today-date"></span> ‚Äî and yes, your socks still don‚Äôt match.<br>
      But who cares? Yellow house magic smells like honey and hope today!</p>
      <p id="boom-message"></p>
    </section>

    <section class="module" id="calendarBox">
      <h2>üìÖ Magic Calendar</h2>
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem;">
        <button class="calendar-nav" onclick="changeMonth(-1)">‚èÆ</button>
        <h3 id="calendar-month-year" style="margin:0; font-size:1rem;"></h3>
        <button class="calendar-nav" onclick="changeMonth(1)">‚è≠</button>
      </div>
      <div id="calendar" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; text-align: center; font-size: 0.9rem;">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
      </div>
    </section>

    <section class="module" id="progressBox">
      <h2>‚≠ê Progress & Rewards</h2>
      <p>üéñÔ∏è Badges earned: <strong>5</strong> &nbsp;&nbsp; ‚ú® Shards collected: <strong>12</strong></p>
      <div class="progress-bar">
        <div class="progress" id="progress-bar"></div>
      </div>
      <small>Complete 2 more tasks to unlock a golden card draw ü™ß</small>
    </section>

    <section class="module" id="wishBox">
      <h2>ü™Ñ Quick Wish</h2>
      <textarea placeholder="Write your wish..."></textarea>
      <button>‚ú® Add to Wish Pool</button>
    </section>

    <section class="module" id="todoBox">
      <h2>üìã Today's Tasks</h2>
      <ul>
        <li>ü™Ñ Practice one spell ‚ú® <strong>[Done]</strong></li>
        <li>üìö Read one magical story üìñ <strong>[Not Done]</strong></li>
        <li>üóòÔ∏è Write a wish in the Mood Room <strong>[Not Done]</strong></li>
        <li>üéØ Recommended: Help Boom Boom organize scrolls ü©ª</li>
      </ul>
    </section>
  </main>

  <script>
    const today = new Date();
    document.getElementById("today-date").textContent = today.toLocaleDateString('en-US', {
      weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
    });

    const boomWisdom = {
      encouragement: [
        "You‚Äôre braver than a dragon facing laundry day.",
        "Every spell you try adds magic to your day‚Äîeven if it fizzles.",
        "Tiny wins count, especially when you‚Äôre tiny too.",
        "One kind thought is stronger than five fireballs.",
        "Today‚Äôs oops could be tomorrow‚Äôs ‚ÄòWhoa, I did that?!‚Äô"
      ],
      mischief: [
        "If your potion turns green, add cheese. That‚Äôs my motto.",
        "Boom Boom‚Äôs Rule #3: If it sparkles, press it. Immediately.",
        "Homework counts double if you do it while dancing.",
        "Tried casting a quiet spell once. Sneezed and turned the carpet pink.",
        "Tell no one, but I once enchanted my snacks to follow me around."
      ],
      reminder: [
        "Wands don‚Äôt work unless you do too, pufflet.",
        "Magic grows best when you rest‚Äîdon‚Äôt skip nap time.",
        "Tidy your scrolls. Or risk finding oatmeal in them again.",
        "Did you stretch today? Even witches need to wiggle.",
        "Don't forget to feed your dreams. And maybe your frog."
      ],
      joke: [
        "Why don‚Äôt witches use GPS? Because they follow their instincts!",
        "I told a joke to a broom. It swept the room with laughter.",
        "How do you fix a broken wand? With spell-o-tape!",
        "Boom Boom fact: Laughing counts as cardio.",
        "What do you call a sneaky potion? Brewdunnit!"
      ]
    };

    const category = ["encouragement", "mischief", "reminder", "joke"];
    const quote = boomWisdom[category[today.getDay() % category.length]][today.getDate() % 5];
    document.getElementById("boom-message").textContent = `ü¶â Boom Boom says: "${quote}"`;

    document.getElementById("progress-bar").style.width = "60%";

    let currentDate = new Date();

    function changeMonth(offset) {
      currentDate.setMonth(currentDate.getMonth() + offset);
      generateCalendar();
    }

    function generateCalendar() {
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      const today = new Date();
      const date = today.getDate();
      const thisMonth = today.getMonth();
      const thisYear = today.getFullYear();

      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      const calendar = document.getElementById("calendar");
      const header = document.getElementById("calendar-month-year");
      const monthNames = ["January", "February", "March", "April", "May", "June",
                          "July", "August", "September", "October", "November", "December"];
      header.textContent = `${monthNames[month]} ${year}`;

      Array.from(calendar.children).slice(7).forEach(el => el.remove());

      for (let i = 0; i < firstDay; i++) {
        const empty = document.createElement("div");
        empty.innerHTML = "&nbsp;";
        calendar.appendChild(empty);
      }

      for (let i = 1; i <= daysInMonth; i++) {
        const cell = document.createElement("div");
        cell.textContent = i;

        const key = `${year}-${month + 1}-${i}`;
        const completed = JSON.parse(localStorage.getItem("completedTasks") || "{}")[key];

        if (i === date && month === thisMonth && year === thisYear) {
          cell.classList.add("today");
        } else if (completed) {
          cell.classList.add("done");
          cell.textContent = "‚úÖ";
        }

        calendar.appendChild(cell);
      }
    }

    function checkAndMarkToday() {
      const today = new Date();
      const key = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;
      const tasksCompleted = 3; // <-- Replace with dynamic check if needed
      if (tasksCompleted >= 3) {
        let all = JSON.parse(localStorage.getItem("completedTasks") || "{}");
        all[key] = true;
        localStorage.setItem("completedTasks", JSON.stringify(all));
      }
    }

    checkAndMarkToday();
    generateCalendar();
  </script>
</body>
</html>
