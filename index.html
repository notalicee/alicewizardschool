<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Enchanted Entry</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #1e1e2f, #2d2d44);
      color: #fff;
      text-align: center;
      padding: 50px;
    }
    h1 {
      font-size: 2em;
      margin-bottom: 10px;
    }
    #emoji-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
    }
    .emoji {
      font-size: 2rem;
      cursor: pointer;
      padding: 10px;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: transform 0.2s, border-color 0.2s;
    }
    .emoji.selected {
      border-color: gold;
      transform: scale(1.2);
      background-color: rgba(255, 255, 255, 0.1);
    }
    button {
      padding: 10px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #4caf50;
      color: white;
      cursor: pointer;
    }
    #message {
      margin-top: 20px;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <h1>‚ú® Enter the Magic School ‚ú®</h1>
  <p>Select the only <strong>magical item</strong> below to enter.</p>

  <div id="emoji-container"></div>
  <button onclick="checkAnswer()">Submit</button>
  <div id="message"></div>

  <script>
    const magicalEmojis = ["ü™Ñ", "üîÆ", "üìú", "üßô‚Äç‚ôÄÔ∏è", "üßπ", "ü¶â"];
    const muggleEmojis = ["üçé", "üì±", "üöó", "üõèÔ∏è", "üñäÔ∏è", "üì¶", "üï∂Ô∏è", "üíº", "üéß", "üéÆ", "ü•§", "üì∑", "üì∫", "‚è∞", "üéí", "üìÅ"];

    let selectedEmoji = null;
    let correctEmoji = null;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function generateEmojiSet() {
      const container = document.getElementById("emoji-container");
      container.innerHTML = "";
      const emojis = [];

      correctEmoji = magicalEmojis[Math.floor(Math.random() * magicalEmojis.length)];
      emojis.push(correctEmoji);

      while (emojis.length < 10) {
        const muggle = muggleEmojis[Math.floor(Math.random() * muggleEmojis.length)];
        if (!emojis.includes(muggle)) emojis.push(muggle);
      }

      shuffle(emojis);

      emojis.forEach(e => {
        const span = document.createElement("span");
        span.classList.add("emoji");
        span.textContent = e;
        span.onclick = () => {
          document.querySelectorAll(".emoji").forEach(el => el.classList.remove("selected"));
          span.classList.add("selected");
          selectedEmoji = e;
        };
        container.appendChild(span);
      });
    }

    function checkAnswer() {
      const msg = document.getElementById("message");
      if (selectedEmoji === correctEmoji) {
        msg.textContent = "‚úÖ Welcome home!";
        msg.style.color = "lightgreen";
        setTimeout(() => window.location.href = "dashboard.html", 1000);
      } else {
        msg.textContent = "‚ùå Oops! È∫ªÁìú‰∏çËÉΩËøõÂì¶ÔºÅ";
        msg.style.color = "tomato";
      }
    }

    window.onload = generateEmojiSet;
  </script>
</body>
</html>
